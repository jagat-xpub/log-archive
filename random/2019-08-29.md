# 2019-08-29

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|09:33|![](https://avatars.slack-edge.com/2020-01-22/918424979847_0035b70d5fcd5cec902e_72.png)|小形克宏|村上さん<br><br>ようやく時間ができたので、ご教示のようにCSSを修正してみましたが、もっと悪くなりました。<br><br>まずCSSは下記の通り。<br><https://www.dropbox.com/s/kw5o062mk4mxtxo/20190829.css?dl=0><br><br>その出力結果は下記の通り。<br><https://www.dropbox.com/s/vkteegmlzk130zy/20190111_%E6%AD%BB%E5%88%91%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF%E3%83%97%E3%83%AD%E3%83%83%E3%83%88%EF%BC%91_20190715.pdf?dl=1><br><br>途中で改段されている感じです。ということは「float: left;」が効いていない？<br><blockquote>[no preview available]</blockquote><br><blockquote>[no preview available]</blockquote>|
|09:35|![](https://avatars.slack-edge.com/2020-01-22/918424979847_0035b70d5fcd5cec902e_72.png)|小形克宏|ちなみに、Vivliostyle Viewer側はCSS Details以外、デフォルトのままです。|
|10:53|![](https://avatars.slack-edge.com/2019-04-17/604316276593_b98417506de391d2c423_72.jpg)|Shinyu|こちらのテストでは問題なく改段されます。何が違うのでしょう。テストのために、GitHub Gist に「20190111_死刑コミックプロット１_20190825.html」（ファイル名は 20190111_plot1_20190825.html に変更）と「20190829.css」を置いて、オンラインVivliostyle Viewerで見られるようにしました:<br><https://gist.github.com/MurakamiShinyu/44e4f1c3f23b8eb560082204248c3afb><br>（HTMLとCSSファイルの先頭にあったコメントは削除してます。 `@charset` の前には何も書けないことになってます）<br><br>この GitHub Gist ページの下の方に、コメントで Vivliostyle Viewer で見るURLを書いてますので、それを開いて確認してみてください。なお、このGistはURLを知ってる人だけ見られる（検索されない）ので、作業中の原稿でのテストにも便利です。|
|13:27|![](https://avatars.slack-edge.com/2020-01-22/918424979847_0035b70d5fcd5cec902e_72.png)|小形克宏|村上さん、ご返事感謝です。<br><br><blockquote>（HTMLとCSSファイルの先頭にあったコメントは削除してます。 ｀@charset｀ の前には何も書けないことになってます）</blockquote>「CSS Details」の冒頭コメントを削除してApplyしたら解消しました！　お恥ずかしい……。ありがとうございました。|
|14:03|![](https://avatars.slack-edge.com/2019-04-17/604316276593_b98417506de391d2c423_72.jpg)|Shinyu|なるほど、CSSをすべて「CSS Details」に入れてるのですね（パラメータでのCSSファイルの指定方法についてはユーザーガイドの「スタイルシートを指定するには」をご覧ください）。<br><br>冒頭コメントですが、問題なのはコメントが閉じていないことでした。<br><pre>/* Vivliostyleのサンプル「和文 段組フォーマット『白馬岳』」における……、bibliographical_informationの指定を削除<br><br>@charset "UTF-8";<br>html {<br>  /* 組み方向 */<br> ……</pre><br>のように、「の指定を削除」のあとにコメント終了の `*/` が書かれていませんでした。それにより、 `組み方向 */` までコメントが閉じていないことになってました。それでCSSのエラーが起きていて正常な組版がされなくなっていたみたいです。コメントは実際はあってもよいのですが、 `*/` で閉じている必要があります。|
|14:46|![](https://avatars.slack-edge.com/2020-01-22/918424979847_0035b70d5fcd5cec902e_72.png)|小形克宏|閉じ忘れですか、これは恥ずかしい。ご指摘感謝です。<br><br><blockquote>なるほど、CSSをすべて「CSS Details」に入れてるのですね（パラメータでのCSSファイルの指定方法についてはユーザーガイドの「スタイルシートを指定するには」をご覧ください）。</blockquote>CSSを「CSS Details」にいれるのは、細かな試行錯誤をするのに便利で気に入っていました。<br><br>「スタイルシートを指定するには」拝見しました。つまりURLで指定するメリットは、<br><br>- 開始時にいちいちコピペしないですむ<br>- CSSを修正したら、リロードすれば反映される<br>- 常に上書きされるので、「Reset all to default」のチェックを入れないですむ<br><br>——という感じでしょうか？|
|16:40|![](https://avatars.slack-edge.com/2019-04-17/604316276593_b98417506de391d2c423_72.jpg)|Shinyu|そうですね。<br>「CSS Details」は、細かな試行錯誤をするのに便利だろうと作ったものなので、活用されてうれしいです。ここに入力したものは、URLパラメータにData URIとして追加されるので、URLがとても長くなってしまうので、試行錯誤してできあがったらCSSをファイルで指定する方がよいかなと思います。|
