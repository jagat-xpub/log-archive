# 2019-08-25

|Time (UTC)|Icon|Name|Message|
|---|---|---|---|
|07:39|![](https://avatars.slack-edge.com/2020-01-22/918424979847_0035b70d5fcd5cec902e_72.png)|小形克宏|村上さん<br><br>Vivliostyleのチャンネルの方でもよいのですが、7/16投稿の続きということで、こちらで質問させてください。<br><br>縦組シナリオですが、けっこう良い感じで組めました。HTML、CSS、出力結果のPDFは下記の通り。<br><br> <https://www.dropbox.com/s/kkf4c8gd0d4hjg8/20190111_%E6%AD%BB%E5%88%91%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF%E3%83%97%E3%83%AD%E3%83%83%E3%83%88%EF%BC%91_20190825.html?dl=0><br><br><https://www.dropbox.com/s/oko81esa02sr5pk/20190818.css?dl=0><br><br><https://www.dropbox.com/s/5el0vqwtx75330f/20190111_%E6%AD%BB%E5%88%91%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF%E3%83%97%E3%83%AD%E3%83%83%E3%83%88%EF%BC%91_20190715.pdf?dl=0><br><br>ただ、いくつか問題が残っています。PDFの11ページ目をご覧いただくと、意図せず４行空白で改ページになっています。これはどうしてでしょう？<br><br>また、最後のページも右側に不可解な空白が生じています。これも対処したいところです。<br><br>以上2点、よければご教示ください。|
|07:59|![](https://avatars.slack-edge.com/2020-01-22/918424979847_0035b70d5fcd5cec902e_72.png)|小形克宏|補足ですが、FirefoxとChromeで同じ症状です。|
|10:04|![](https://avatars.slack-edge.com/2019-04-17/604316276593_b98417506de391d2c423_72.jpg)|Shinyu|<blockquote>意図せず４行空白で改ページになっています。これはどうしてでしょう？</blockquote>調べてみたところ、<br><br><pre>p.line &gt; strong:first-child {<br>  display: inline-block;<br>  margin-inline-start: -8em;<br>  min-inline-size: 8em;<br>}</pre><br>のように、ブロックの先頭の子要素に `display: inline-block` が指定されていると、そのブロックの途中での分割がされずに、ブロック全体が次のページに送られてしまっています。<br>Vivliostyleのバグのようです。<br><br>この不具合を回避する方法ですが、 `display: inline-block;` をやめて代わりに `float: left;` を指定するとうまくいくと思います。<br><br><pre>p.line &gt; strong:first-child {<br>  float: left;<br>  margin-inline-start: -8em;<br>  min-inline-size: 8em;<br>}</pre>|
|10:12|![](https://avatars.slack-edge.com/2019-04-17/604316276593_b98417506de391d2c423_72.jpg)|Shinyu|<blockquote>最後のページも右側に不可解な空白が生じています。これも対処したいところです。</blockquote>これはVivliostyleのこのバグです:<br><https://github.com/vivliostyle/vivliostyle.js/issues/544><br><br>これを回避するには、段組の指定 `column-count: 2;` とともに `column-fill: auto;` という指定をすることです。<br><br><pre>  html {<br>    column-count: 2;<br>    column-gap: 4em;<br>    column-fill: auto;<br>  }</pre><br><br>デフォルトでは段組での最後のページの段の長さをバランスさせる `column-fill: balance` で、縦書きのときにこの不具合が生じるのですが、バランスさせない指定 `column-fill: auto` にすると不具合が回避できます。<br><br>ちなみに、CSSでベンダープレフィックス -webkit- や -moz- 付きのプロパティは削除して問題ありません。Vivliostyleはブラウザによって必要なプレフィックスは自動的におぎないます。<br><blockquote>When multi-column is used with writing-mode: vertical-rl, the columns at the last page are balanced if column-fill is its initial value balance and the columns should be right-aligned in the page. ...</blockquote>|
